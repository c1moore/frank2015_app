<!DOCTYPE html>
<html ng-app="frankAgenda">

	<head>
		<base href="/tests_c1m/public/view/" />
		<meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,width=device-width,user-scalable=no">

		<script data-require="jquery@*" data-semver="2.1.1" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script data-require="bootstrap@*" data-semver="3.2.0" src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<script data-require="angular.js@*" data-semver="1.3.0" src="//code.angularjs.org/1.3.0/angular.js"></script>
		<script src="../libraries/angular-local-storage/dist/angular-local-storage.js"></script>
		<script data-require="angular-ui@*" data-semver="0.4.0" src="http://rawgithub.com/angular-ui/angular-ui/master/build/angular-ui.js"></script>
		<script type="text/javascript" src="../libraries/bindonce/bindonce.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.0/angular-animate.min.js"></script>
		<script data-require="angular-touch@*" data-semver="1.2.13" src="http://code.angularjs.org/1.2.13/angular-touch.js"></script>
		<script src="../js/snap.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/angular-snap.js" type="text/javascript" charset="utf-8"></script>
		<script src="../libraries/angular-carousel/dist/angular-carousel.min.js"></script>
		<script src="../libraries/ng-FitText/src/ng-FitText.js" type="text/javascript"></script>
		<script src="../js/script.js"></script>
		<script type="text/javascript" src="../js/agenda.js"></script>


		<link data-require="bootstrap@*" data-semver="3.2.0" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
		<link data-require="font-awesome@*" data-semver="4.2.0" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.css" />
		<link rel="stylesheet" href="../css/angular-snap.css" type="text/css" />
		<link rel="stylesheet" href="../libraries/angular-carousel/dist/angular-carousel.min.css" />
		<link rel="stylesheet" href="../css/style.css" />
		<link rel="stylesheet" href="../css/agenda.css" />
	</head>

	<body ng-controller="agendaController" resizable>
		<snap-drawer id='left-snap-drawer'>
			<frank-sidebar-menu></frank-sidebar-menu>
		</snap-drawer>
		<snap-content id="snap-content">
			<frank-header>Agenda</frank-header>
			<div class="calendar">
				<ul data-role="page" class="calendar-carousel" rn-carousel rn-carousel-index="day" rn-carousel-controls rn-carousel-deep-watch ng-style="{'margin-top' : getTopMargin(15), height : slideHeight(15)}">
					<li class="calendar-day" ng-repeat="day in dailyCalendar track by $index">
						<h1 class="date-heading">{{getHeader($index)}}</h1>
						<div class="calendar-area">
							<div class="time-bar" ng-class="{'faded-time-bar' : $index !== day}" ng-style="{top : timeBarTop}">{{time | millisToTime}}</div>
							<marker half-hr-intervals="halfHrIntervals" current-index="$index" ng-class="{'hour-marker' : $odd, 'half-hour-marker' : $even}" ng-repeat="interval in halfHrIntervals track by $index"></marker>
							<div class="calendar-allday">
								<div class="allday-event" ng-repeat="event in day.allDayList track by event.start_time" ng-style="{height : getEventHeight(event.start_time, event.end_time), 'background-color' : '#333232', color : '#E8E9EB', top : getScrollTop(event.start_time, $parent.$index)}" ng-class="{'allday-event-2' : $even}">
									<span class="event-time allday-event-time">{{event.start_time | millisToTime}}-{{event.end_time | millisToTime}}</span>
									<span class="event-name allday-event-name">{{event.name}}</span>
									<span class="event-location allday-event-location"><i class="fa fa-map-marker"></i> {{event.location}}</span>
								</div>
							</div>
							<div class="calendar-hourly">
								<div ng-repeat="event in day.hourlyList track by event.start_time">
									<div class="event" ng-style="{height : getEventHeight(event.start_time, event.end_time), 'background-color' : getEventColor($index), color : '#333232', width : hourlyWidth(event.name), top : getScrollTop(event.start_time, $parent.$index), left : hourlyLeftPos}">
										<span class="event-time hourly-event-time" ng-style="{display : getDisplay(event.start_time, event.end_time)}" ng-if="event.name !== 'Break'" ng-class="{'no-min-width' : event.name === 'Huddles'}">{{event.start_time | millisToTime}}-{{event.end_time | millisToTime}}</span>
										<span class="event-time hourly-event-time" ng-style="{display : getDisplay(event.start_time, event.end_time), 'min-width' : '120px'}" ng-if="event.name === 'Break'">{{event.start_time | millisToTime}}-{{event.end_time | millisToTime}}</span>
										<span class="event-name hourly-event-name" ng-style="{display : getDisplay(event.start_time, event.end_time), 'min-width' : '0px'}" ng-if="event.name === 'Break'">{{event.name}}</span>
										<span class="event-name hourly-event-name" ng-style="{display : getDisplay(event.start_time, event.end_time)}" ng-if="event.name !== 'Break'" ng-class="{'no-min-width' : event.name === 'Huddles'}">{{event.name}}</span>
										<span class="event-location hourly-event-location" ng-style="{display : getDisplay(event.start_time, event.end_time)}" ng-if="event.location && event.name !== 'Huddles'"><i class="fa fa-map-marker"></i> {{event.location}}</span>
										<span class="event-location hourly-event-location" ng-style="{display : getDisplay(event.start_time, event.end_time)}" ng-if="event.name === 'Huddles'" ng-class="{'no-min-width' : event.name === 'Huddles'}"><a ng-href="events/event.html#{{$parent.$parent.$index}}" target="_self"><i class="fa fa-map-marker"></i> {{event.location}}</a></span>
									</div>
									<div class="event" ng-if="event.name === 'Huddles'" ng-style="{height : getEventHeight(event.start_time, event.end_time), 'background-color' : getEventColor($index+2), color : '#333232', width : hourlyWidth(event.name), top : getScrollTop(event.start_time, $parent.$parent.$index), left : officeHrsLeftPos}">
										<span class="event-time hourly-event-time" ng-style="{display : getDisplay(event.start_time, event.end_time), 'min-width' : 0}">{{event.start_time | millisToTime}}-{{event.end_time | millisToTime}}</span>
										<span class="event-name hourly-event-name" ng-style="{display : getDisplay(event.start_time, event.end_time), 'min-width' : 0}">Office Hours</span>
										<span class="event-location hourly-event-location" ng-style="{display : getDisplay(event.start_time, event.end_time), 'min-width' : 0}" ng-if="event.location"><a ng-href="events/event.html#{{$parent.$parent.$parent.$index}}" target="_self"><i class="fa fa-map-marker"></i> {{event.location}}</a></span>
									</div>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</snap-content>
	</body>

</html>
