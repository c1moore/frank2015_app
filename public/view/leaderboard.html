<!DOCTYPE html>
<html ng-app="frankAppLeaderboard">

	<head>
		<base href="/tests_c1m/public/view/" />
		<meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,width=device-width,user-scalable=no">

		<script data-require="jquery@*" data-semver="2.1.1" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script data-require="bootstrap@*" data-semver="3.2.0" src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<script data-require="angular.js@*" data-semver="1.3.0" src="//code.angularjs.org/1.3.0/angular.js"></script>
		<script src="../libraries/angular-local-storage/dist/angular-local-storage.js"></script>
		<script data-require="angular-ui@*" data-semver="0.4.0" src="http://rawgithub.com/angular-ui/angular-ui/master/build/angular-ui.js"></script>
		<script type="text/javascript" src="../libraries/bindonce/bindonce.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.0/angular-animate.min.js"></script>
		<script data-require="angular-touch@*" data-semver="1.2.13" src="http://code.angularjs.org/1.2.13/angular-touch.js"></script>
		<script src="../js/snap.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/angular-snap.js" type="text/javascript" charset="utf-8"></script>
		<script src="../libraries/angular-carousel/dist/angular-carousel.min.js"></script>
		<script src="../libraries/ng-FitText/src/ng-FitText.js" type="text/javascript"></script>
		<script type="text/javascript" src="../libraries/ngInfiniteScroll/build/ng-infinite-scroll.js"></script>
		<script type="text/javascript" src="../libraries/ng-table-master/dist/ng-table.js"></script>
		<script src="../js/script.js"></script>
		<script type="text/javascript" src="../js/leaderboard.js"></script>


		<link data-require="bootstrap@*" data-semver="3.2.0" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
		<link data-require="font-awesome@*" data-semver="4.2.0" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.css" />
		<link rel="stylesheet" href="../css/angular-snap.css" type="text/css" />
		<link rel="stylesheet" href="../libraries/angular-carousel/dist/angular-carousel.min.css" />
		<link rel="stylesheet" type="text/css" href="../libraries/ng-table-master/dist/ng-table.css">
		<link rel="stylesheet" href="../css/style.css" />
		<link rel="stylesheet" href="../css/leaderboard.css" />
	</head>

	<body ng-controller="LeaderboardCtrl" resizable>
		<snap-drawer id='left-snap-drawer'>
			<frank-sidebar-menu></frank-sidebar-menu>
		</snap-drawer>
		<snap-content id="snap-content">
			<frank-header>Leaderboard</frank-header>
			<table ng-table="leaderboard" class="frank-table table" ng-style="{'margin-top' : getTopMargin(15)}">
				<thead>
					<tr>
						<th colspan="2">
							<input class="form-control" type="text" ng-model="filters.myfilter" placeholder="Search..." />
						</th>
					</tr>
					<tr>
						<th class="sortable" ng-class="{'sort-asc' : leaderboard.isSortBy('team_name', 'asc'), 'sort-desc' : leaderboard.isSortBy('team_name', 'desc')}" ng-click="leaderboard.sorting({'team_name' : leaderboard.isSortBy('team_name', 'asc') ? 'desc' : 'asc'})">
							<div>Team Name</div>
						</th>
						<th class="sortable" ng-class="{'sort-asc' : leaderboard.isSortBy('score', 'asc'), 'sort-desc' : leaderboard.isSortBy('score', 'desc')}" ng-click="leaderboard.sorting({'score' : leaderboard.isSortBy('score', 'asc') ? 'desc' : 'asc'})">
							<div>Points</div>
						</th>
					</tr>
				</thead>
				<tbody ng-repeat="group in $groups" ng-init="group.$hideRows = true" ng-class="{'dark-row' : $even, 'light-row' : $odd}">
					<tr class="ng-table-group">
						<td sortable="'team_name'" data-title="'Team Name'">
							<a href="" ng-click="group.$hideRows = !group.$hideRows" class="member-link">
								<i class="fa" ng-class="{'fa-plus-square-o' : group.$hideRows, 'fa-minus-square-o' : !group.$hideRows}"></i>
							</a>
							{{group.value}}
						</td>
						<td sortable="'score'" data-title="'Score'" class="team-score">
							{{group.data[0].score}}
						</td>
					</tr>
					<tr ng-hide="group.$hideRows" class="member-row">
						<td colspan="2">
							<span class="team-member"><b>{{group.data[0].krewe_captain}}</b></span>
						</td>
					</tr>
					<tr ng-hide="group.$hideRows" ng-repeat="member in group.data" class="member-row">
						<td colspan="2">
							<span class="team-member">{{member.member_fname + ' ' + member.member_lname}}</span>
						</td>
					</tr>
				</tbody>
			</table>
		</snap-content>
	</body>

</html>
