<!DOCTYPE html>
<html ng-app="frankScoreboardAdmin">

	<head>
		<base href="/tests_c1m/public/view/" />
		<meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,width=device-width,user-scalable=no">

		<script data-require="jquery@*" data-semver="2.1.1" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script data-require="bootstrap@*" data-semver="3.2.0" src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<script data-require="angular.js@*" data-semver="1.3.0" src="//code.angularjs.org/1.3.0/angular.js"></script>
		<script src="../libraries/angular-local-storage/dist/angular-local-storage.js"></script>
		<script data-require="angular-ui@*" data-semver="0.4.0" src="http://rawgithub.com/angular-ui/angular-ui/master/build/angular-ui.js"></script>
		<script data-require="angular-touch@*" data-semver="1.2.13" src="http://code.angularjs.org/1.2.13/angular-touch.js"></script>
		<script src="../js/snap.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/angular-snap.js" type="text/javascript" charset="utf-8"></script>
		<script src="//mgcrea.github.io/angular-strap/dist/angular-strap.js" data-semver="v2.1.4"></script>
		<script src="//mgcrea.github.io/angular-strap/dist/angular-strap.tpl.js" data-semver="v2.1.4"></script>
		<script src="../libraries/ng-FitText/src/ng-FitText.js" type="text/javascript"></script>
		<script type="text/javascript" src="../libraries/ng-table-master/dist/ng-table.js"></script>
		<script src="../js/script.js"></script>
		<script type="text/javascript" src="../js/scoreboard.js"></script>


		<link data-require="bootstrap@*" data-semver="3.2.0" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
		<link data-require="font-awesome@*" data-semver="4.2.0" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.css" />
		<link rel="stylesheet" href="../css/angular-snap.css" type="text/css" />
		<link rel="stylesheet" href="//mgcrea.github.io/angular-strap/styles/main.min.css">
		<link rel="stylesheet" type="text/css" href="../libraries/ng-table-master/dist/ng-table.css">
		<link rel="stylesheet" href="../css/style.css" />
		<link rel="stylesheet" href="../css/admin.css" />
		<link rel="stylesheet" href="../css/scoreboard.css" />
	</head>

	<body ng-controller="scoreboardCtrl">
		<div class="modal fade" id="newVoteModal" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">
							<i class="fa fa-times"></i>
						</button>
						<h4 class="modal-title">New Team</h4>
					</div>
					<div class="modal-body">
						<form>
							<label style="width: 100%;">Team Name: <input type="text" ng-model="team.team_name" style="width: 70%;" maxlength="100" /></label>
							<label style="width: 100%;">Krewe Captain: <input type="text" ng-model="team.krewe_captain" style="width: 70%;" maxlength="50" /></label>
							<hr />
							<span class="members-header">Add Members</span>
							<div class="member-names">
								<div ng-repeat="members in team.members track by $index">
									<div style="text-align: right;">
										<a href="" ng-class="{disabled : team.members.length <= 1}" ng-click="team.members.length > 1 ? team.members.splice($index, 1) : 1+1" tabindex="-1"><i class="fa fa-times"></i></a>
										<a href="" ng-click="team.members[team.members.length] = {}" tabindex="-1"><i class="fa fa-plus"></i></a>
									</div>
									<label style="width: 100%;">First Name: <input type="text" ng-model="team.members[$index].member_fName" style="width: 70%;" maxlength="50" /></label>
									<label style="width: 100%;">Last Name: <input type="text" ng-model="team.members[$index].member_lName" style="width: 70%;" maxlength="50" /></label>
									<hr />
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" style="float: left;" ng-click="resetForm()">Reset</button>
						<button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="resetForm()">Cancel</button>
						<button type="button" class="btn btn-primary" ng-click="createKrewe()">Create Krewe</button>
					</div>
				</div>
			</div>
		</div>
	
	
		<div class="jumbotron text-center adminHeader"><h1>Krewe Scoreboard</h1></div>
		<button type="button" class="btn btn-primary" id="newVoteBtn" data-toggle="modal" data-target="#newVoteModal">New Krewe</button>
		<table class="frank-table table" ng-table="scoreboard">
			<thead>
				<tr>
					<th colspan="3">
						<input type="text" class="form-control" ng-model="filters.myfilter" placeholder="Search team name, score, and member names..." />
					</th>
				</tr>
				<tr>
					<th class="sortable" ng-class="{'sort-asc' : scoreboard.isSortBy('team_name', 'asc'), 'sort-desc' : scoreboard.isSortBy('team_name', 'desc')}" ng-click="scoreboard.sorting({'team_name' : scoreboard.isSortBy('team_name', 'asc') ? 'desc' : 'asc'})"><div>Team Name</div></th>
					<th class="sortable" ng-class="{'sort-asc' : scoreboard.isSortBy('score', 'asc'), 'sort-desc' : scoreboard.isSortBy('score', 'desc')}" ng-click="scoreboard.sorting({'score' : scoreboard.isSortBy('score', 'asc') ? 'desc' : 'asc'})"><div>Score</div></th>
					<th>Add Point</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="krewe in $data">
					<td data-title="'Team Name'" sortable="'team_name'">
						{{krewe.team_name}}
					</td>
					<td data-title="'Score'" sortable="'score'">
						{{krewe.score}}
					</td>
					<td data-title="'Add Point'">
						<a href="" ng-click="addPoint(krewe.id)"><i class="fa fa-plus"></i></a>
					</td>
				</tr>
			</tbody>
		</table>
	</body>
</html>
